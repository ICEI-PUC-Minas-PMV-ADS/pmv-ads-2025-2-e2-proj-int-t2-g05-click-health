/* ===========================
   Click Health • UI Base
   =========================== */
:root{
  --bg:#f7f9fb;
  --surface:#ffffff;
  --ink:#0b1220;
  --muted:#6b7280;
  --line:#e6e9ee;
  --accent:#2563eb;
  --accent-ink:#0b3b9b;
  --ok:#16a34a;
  --warn:#d97706;
  --err:#b91c1c;

  --radius:14px;
  --radius-sm:10px;
  --shadow:0 8px 30px rgba(2,20,50,.06);
  --shadow-sm:0 4px 16px rgba(2,20,50,.08);

  --font: "Inter", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:var(--font); color:var(--ink);
  background:linear-gradient(180deg,#f4f8ff, #f7f9fb 40%, #f8fafc 100%);
  -webkit-font-smoothing:antialiased; line-height:1.4;
}

/* ===========================
   AppBar
   =========================== */
.appbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; gap:12px;
  padding:10px 16px; background:rgba(255,255,255,.72);
  backdrop-filter:saturate(180%) blur(14px);
  border-bottom:1px solid var(--line);
}
.appbar .brand{
  display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--ink);
  font-weight:700;
}
.logo{height:28px; width:auto}
.spacer{flex:1}

/* Zoom / Contraste no header da appbar (registro) */
.appbar .btn{margin-left:4px}

/* ===========================
   Page Container
   =========================== */
.page-card{
  max-width:1150px; margin:22px auto; background:var(--surface);
  border:1px solid var(--line); border-radius:var(--radius);
  box-shadow:var(--shadow); padding:18px;
}
.page-card h1{
  display:flex; align-items:center; gap:10px;
  margin:4px 0 12px; font-size:40px; font-weight:900; letter-spacing:.3px;
}
.muted{color:var(--muted)}

/* ===========================
   Layout helpers
   =========================== */
.row{display:flex; align-items:center; gap:10px}
.gap{gap:10px}
.grid-2{display:grid; grid-template-columns:1fr 1fr; gap:14px}
.grid-3{display:grid; grid-template-columns:1fr 1fr 1fr; gap:14px}
@media (max-width:900px){
  .grid-2,.grid-3{grid-template-columns:1fr}
}

/* ===========================
   Form Fields
   =========================== */
label{display:block; font-weight:700; color:#0d1b2a; margin:6px 0}
input[type="text"], input[type="date"], input[type="datetime-local"],
select, textarea{
  width:100%; font:inherit; color:var(--ink);
  background:#fbfdff; border:1px solid var(--line);
  border-radius:12px; padding:14px 16px;
  outline:none; transition:border-color .15s, box-shadow .15s, background .15s;
}
textarea{min-height:180px; resize:vertical}
input::placeholder, textarea::placeholder{color:#9ca3af}

input:focus, select:focus, textarea:focus{
  border-color:#b8ccff;
  box-shadow:0 0 0 4px rgba(37,99,235,.12);
  background:#fff;
}

/* Select com setinha estilizada */
select{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background-image:
    linear-gradient(180deg,transparent 50%,rgba(0,0,0,.02) 50%),
    url('data:image/svg+xml;utf8,<svg width="20" height="20" viewBox="0 0 24 24" fill="%232563eb" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5"/></svg>');
  background-repeat:no-repeat;
  background-position: right 14px center, right 14px center;
  background-size: 100% 100%, 18px;
  padding-right:44px;
}

/* Fieldset bloco */
.fieldset{
  border:1px dashed var(--line);
  padding:14px; border-radius:12px; background:#fff;
}

/* Chip (ex.: Ditado) */
.chip{
  display:inline-flex; align-items:center; gap:6px;
  font-size:14px; border:1px solid var(--line); border-radius:999px;
  padding:6px 10px; background:#f8fafc; color:#0f172a;
}

/* ===========================
   Buttons
   =========================== */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  font:600 14px/1 var(--font); color:#0f172a; background:#fff;
  border:1px solid var(--line); border-radius:12px; padding:10px 12px;
  cursor:pointer; transition:transform .04s ease, background .15s, box-shadow .15s, border-color .15s;
  user-select:none;
}
.btn:hover{background:#f9fafb}
.btn:active{transform:translateY(1px)}
.btn.primary{
  background:linear-gradient(180deg,#3b82f6,#2563eb);
  color:#fff; border-color:#1e40af; box-shadow:0 6px 18px rgba(37,99,235,.28);
}
.btn.primary:hover{filter:saturate(105%)}
.ml{margin-left:8px}

/* Zoom group (no histórico e appbar) */
.toolbar .btn, .appbar .btn{
  border-radius:10px; padding:8px 10px;
}
#zoomPct{min-width:66px; text-align:center; font-weight:700}

/* ===========================
   Dropzone
   =========================== */
.dropzone{
  position:relative; display:flex; align-items:center; gap:8px; flex-wrap:wrap;
  border:2px dashed #cfd6e4; border-radius:14px; background:#fbfdff;
  padding:18px; color:#475569; cursor:pointer;
}
.dropzone.drag{border-color:#94a9ff; background:#f5f8ff}
.dropzone .sr-only{position:absolute; inset:0; opacity:0; pointer-events:none}
.file-list{list-style:none; padding-left:18px; margin:8px 0 0 0; color:#334155}
.file-list li{margin:2px 0}

/* ===========================
   Histórico: Cards
   =========================== */
.grid{display:grid; grid-template-columns:1fr; gap:12px}
.card{
  background:#fff; border:1px solid var(--line); border-radius:var(--radius);
  box-shadow:var(--shadow-sm); overflow:hidden;
}
.card > header{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:12px 14px; border-bottom:1px solid var(--line);
}
.title{font-weight:700; font-size:16px}
.meta{color:var(--muted); font-size:12px}
.tag{font-size:12px; border:1px solid var(--line); padding:2px 8px; border-radius:999px; color:#374151; background:#f9fafb}
.content{padding:14px 14px 16px; display:none}
.content.open{display:block}
.anexos{display:flex; flex-wrap:wrap; gap:8px; margin-top:8px}
.thumb{border:1px solid var(--line); border-radius:12px; width:120px; height:90px; display:flex; align-items:center; justify-content:center; background:#f8fafc; cursor:pointer; overflow:hidden}
.thumb img{max-width:100%; max-height:100%; object-fit:cover}
.thumb .pdf{font-size:12px; color:#1f2937}

/* Estado vazio */
.empty{
  padding:24px; border:1px dashed var(--line); border-radius:12px; color:var(--muted);
  background:#fff; margin-bottom:10px;
}

/* ===========================
   Modal Preview
   =========================== */
.modal{position:fixed; inset:0; background:rgba(10,18,34,.75); display:none; align-items:center; justify-content:center; z-index:50}
.modal.open{display:flex}
.modal-box{background:#fff; max-width:90vw; max-height:90vh; border-radius:14px; overflow:hidden; display:flex; flex-direction:column; box-shadow:var(--shadow)}
.modal-head{display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid var(--line)}
.modal-body{padding:0; overflow:auto}
.viewer{width:85vw; height:75vh; border:0}

/* ===========================
   Utilitários
   =========================== */
.hide{display:none !important}

/* ===========================
   Alto Contraste
   =========================== */
html.hc, .hc body{background:#000}
.hc .page-card{background:#000; border-color:#444}
.hc .card{background:#000; border-color:#444}
.hc .btn{background:#111; color:#fff; border-color:#444}
.hc input, .hc select, .hc textarea{background:#000; color:#fff; border-color:#666}
.hc .dropzone{background:#000; border-color:#555; color:#e5e7eb}
.hc .meta,.hc .muted{color:#cbd5e1}
